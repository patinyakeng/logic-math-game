/* Light iOS-like theme, larger layout, single-line expression */
*{box-sizing:border-box}
:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#0b1020;
  --muted:#667085;
  --accent:#0a84ff;
  --accent-ghost:#dae8ff;
  --border:#e6e9f2;
  --success:#198754;
  --danger:#e03a3a;
}
html,body{height:100%}
body{
  font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Prompt", "Noto Sans Thai", sans-serif;
  margin:0; background:var(--bg); color:var(--text);
}

.container{max-width:1400px;margin:0 auto;padding:32px}
header{text-align:center;margin-bottom:24px}
h1{margin:0 0 8px;font-size:40px;font-weight:800;letter-spacing:.2px}
.subtitle{margin:0;color:var(--muted);font-size:18px}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:20px;
  padding:24px;
  box-shadow:0 10px 30px rgba(10,20,60,.06);
  margin-bottom:24px;
}

.hidden{display:none}
.row{display:flex;gap:16px;align-items:center;flex-wrap:wrap;margin:12px 0}
.row.centered{justify-content:center}
.hud{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:12px;font-size:18px}
.hud .score{text-align:right}

.primary,.ghost{
  border-radius:14px; cursor:pointer; font-weight:700;
  padding:12px 18px; font-size:18px;
}
.primary{background:var(--accent);color:#fff;border:none}
.primary:hover{filter:brightness(1.05)}
.ghost{background:var(--accent-ghost);color:var(--accent);border:1px solid #cfe1ff}
.large{padding:14px 22px;font-size:20px}

input[type=text]{
  width:100%;padding:14px 16px;border-radius:14px;border:1px solid var(--border);
  background:#fff;color:var(--text);font-size:18px
}
.lbl{font-size:18px; display:block;} /* NEW: ให้ label เป็นบล็อก จะได้จัดกึ่งกลางง่าย */

.badge{
  background:#eef4ff;border:1px solid #cfe1ff;color:#0b3a8a;
  padding:6px 12px;border-radius:999px;display:inline-block;min-width:32px;text-align:center;font-weight:700
}
.badge.large{font-size:22px;padding:8px 14px}

#timer-wrap{
  position:relative;background:#f1f4fb;border:1px solid var(--border);height:22px;
  border-radius:14px;overflow:hidden;margin:10px 0
}
/* NEW: เพิ่ม transition ให้ background ด้วย เพื่อให้สีไหลลื่น */
#timer-bar{
  position:absolute;left:0;top:0;bottom:0;width:100%;
  background:var(--accent);
  transition:width .2s linear, background .2s linear; /* NEW */
}
#timer-text{position:absolute;right:8px;top:-30px;color:var(--muted);font-size:14px}

.target{font-size:20px;margin:12px 0}
.expression{
  display:flex; gap:10px; align-items:center;
  background:#f9fbff;border:1px dashed #d6def5;border-radius:14px;padding:14px;min-height:64px;
  font-size:22px
}
.expression.singleline{flex-wrap:nowrap;overflow-x:auto;white-space:nowrap}
.expression::-webkit-scrollbar{height:10px}
.expression::-webkit-scrollbar-thumb{background:#d2dcff;border-radius:999px}

.token{display:inline-flex;flex-direction:column;align-items:center;gap:6px}
select.tf{
  padding:8px;border-radius:12px;border:1px solid #d6def5;background:#fff;color:var(--text);font-size:18px
}
select.tf.placeholder{color:#999}
.operator{font-size:28px;color:#304b9a;padding:0 2px}
.paren{font-size:30px;color:#20bcae}
/* วางต่อจาก .paren {...} */
.paren-depth-0 { color: #1E90FF; }  /* น้ำเงิน */
.paren-depth-1 { color: #32CD32; }  /* เขียว */
.paren-depth-2 { color: #FF8C00; }  /* ส้ม */
.paren-depth-3 { color: #8A2BE2; }  /* ม่วง */
.paren-depth-4 { color: #DC143C; }  /* แดง */
.paren-depth-5 { color: #20B2AA; }  /* ฟ้าเขียว */

.feedback{margin-top:8px;min-height:28px;font-size:18px}
.correct{color:var(--success);font-weight:700}
.incorrect{color:var(--danger);font-weight:700}
.muted{color:var(--muted);font-size:16px}
.neg{color:var(--danger);font-weight:700}

#leaderboard table{width:100%;border-collapse:collapse;font-size:16px}
#leaderboard th,#leaderboard td{border:1px solid var(--border);padding:10px;text-align:left}
#leaderboard th{background:#f2f6ff}

.formula{background:#f6f9ff;border:1px dashed #cfe1ff;border-radius:14px;padding:12px;font-size:16px;margin:6px 0 4px}

/* ===== Range slider base (ให้เห็นพื้นหลังไล่สี) ===== */
input[type="range"] {
  -webkit-appearance: none;
  width: 280px;
  height: 10px;
  border-radius: 999px;
  background: #e6e9f2;            /* จะถูก JS เขียนทับเป็น gradient */
  outline: none;
}
input[type="range"]::-webkit-slider-runnable-track {
  height: 10px;
  border-radius: 999px;
  background: transparent;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 2px solid #fff;
  background: var(--thumb-color, #0a84ff);  /* NEW: รับสีจาก JS */
  box-shadow: 0 0 0 1px rgba(0,0,0,.06);
  margin-top: -6px; /* ยก thumb ให้อยู่กึ่งกลางราง */
  transition: background .2s linear; /* NEW: ไหลลื่นตอนเปลี่ยนสี */
}
input[type="range"]::-moz-range-track {
  height: 10px;
  border-radius: 999px;
  background: transparent;
}
input[type="range"]::-moz-range-thumb {
  width: 22px; height: 22px; border-radius: 50%;
  border: 2px solid #fff; background: #0a84ff;
  box-shadow: 0 0 0 1px rgba(0,0,0,.06);
}

/* ป้ายค่าความยากให้รับสีตามระดับได้ (JS จะเซ็ต inline) */
#diff-val {
  color: #fff;                     /* ให้อ่านชัดกับพื้นสีเข้ม */
  border: none;
}

/* ตาราง Top10 */
.top10-table table{ width:100%; border-collapse:collapse; font-size:16px }
.top10-table th, .top10-table td{ border:1px solid var(--border); padding:8px 10px; text-align:left }
.top10-table th{ background:#f2f6ff }

/* ===== Center everything on the Start Screen ===== */
/* จัดกึ่งกลางทั้งบรรทัดในหน้าเริ่มต้น */
#start-screen { text-align:center; }                /* NEW: ให้ข้อความกึ่งกลาง */
#start-screen .row { justify-content:center; }      /* NEW: แถวปุ่ม/สไลเดอร์อยู่กลาง */
#start-screen .lbl { margin-bottom:6px; }           /* ระยะห่างเล็กน้อย */
#start-screen input[type="text"]{
  max-width:560px;                                  /* NEW: ไม่ให้กว้างทั้งบรรทัดจนเกินไป */
  margin:0 auto; display:block;                     /* NEW: กล่อง input อยู่กลางจริง ๆ */
}
#start-screen .primary.large { margin-top:12px; }   /* NEW: ระยะห่างปุ่ม */
